(this["webpackJsonpyalantis-test-task"]=this["webpackJsonpyalantis-test-task"]||[]).push([[0],{13:function(e,t,n){e.exports={container:"Paper_container__3Tf9M",title:"Paper_title__Uh-ld",content:"Paper_content__3Ig9B"}},14:function(e,t,n){e.exports={employeeContainer:"Employee_employeeContainer__3RiKT",fullname:"Employee_fullname__1prwc",active:"Employee_active__1mGEN"}},19:function(e,t,n){e.exports={alphabet:"EmployeesList_alphabet__BWiZ_",letterContainer:"EmployeesList_letterContainer__76mwD"}},20:function(e,t,n){e.exports={container:"Employees_container__3i4dm",preloaderContainer:"Employees_preloaderContainer__1DV67"}},32:function(e,t,n){e.exports={employeesContainer:"EmployeesBirthday_employeesContainer__1Q7TA"}},39:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a,c,r=n(0),i=n.n(r),o=n(11),s=n.n(o),l=(n(39),n.p+"static/media/preloader.3d6722b7.svg"),d=n(13),u=n.n(d),j=n(1),p=function(e){var t=e.title,n=e.children;return Object(j.jsxs)("div",{className:u.a.container,children:[Object(j.jsx)("h1",{className:u.a.title,children:t}),Object(j.jsx)("div",{className:u.a.content,children:n})]})},m=n(7),h=m.c,b=n(18),f=n.n(b),O=n(30),v=n(31),y=n.n(v),x=function(){return y.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.data}))},E=n(8);!function(e){e.LOADED="LOADED",e.LOADING="LOADING",e.ERROR="ERROR",e.NEVER="NEVER"}(c||(c={}));var _={items:[],activeIds:null!==(a=function(){try{var e=window.localStorage.getItem("activeEmployees");return null!==e||void 0===e?JSON.parse(e):void 0}catch(t){return}}())&&void 0!==a?a:[],loadingState:c.NEVER},g=Object(E.b)("employees/fetchEmployees",Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),N=Object(E.c)({name:"employees",initialState:_,reducers:{addActiveEmployee:function(e,t){e.activeIds.push(t.payload)},removeActiveEmployee:function(e,t){var n=e.activeIds.indexOf(t.payload);e.activeIds.splice(n,1)}},extraReducers:function(e){return e.addCase(g.fulfilled.type,(function(e,t){e.items=t.payload.sort((function(e,t){return e.firstName.localeCompare(t.firstName)})),e.loadingState=c.LOADED})).addCase(g.pending.type,(function(e){e.loadingState=c.LOADING})).addCase(g.rejected.type,(function(e){e.loadingState=c.ERROR}))}}),C=N.actions,D=C.addActiveEmployee,R=C.removeActiveEmployee,S=function(e){return e.employees.items},w=function(e){return e.employees.loadingState},A=function(e){return e.employees.activeIds},I=N.reducer,L=n(6),k=function(e){return e.toLocaleString("en",{month:"long"})},F=function(e){var t=new Date(e),n=t.toLocaleDateString("en-US").split("/"),a=Object(L.a)(n,3),c=a[1],r=a[2];return"".concat(c," ").concat(k(t),", ").concat(r," year")},B=n(32),P=n.n(B),T=function(){for(var e=new Date,t=[],n=0;n<12;n++)t.push(k(e)),e.setMonth(e.getMonth()+1);return t}(),G=function(){var e=h(A),t=h(S).filter((function(t){return e.includes(t.id)})).sort((function(e,t){return e.lastName.localeCompare(t.lastName)}));return Object(j.jsx)(p,{title:"Employees Birthday",children:e.length?T.map((function(e,n){var a=!0;return Object(j.jsxs)("div",{className:P.a.employeesContainer,children:[Object(j.jsx)("h2",{children:e}),Object(j.jsxs)("ul",{children:[t.filter((function(t){var n=t.dob;return e===k(new Date(n))})).map((function(e){var t=e.id,n=e.firstName,c=e.lastName,r=e.dob;return a=!1,Object(j.jsx)("li",{children:"".concat(n," ").concat(c," - ").concat(F(r))},t)})),a&&Object(j.jsx)("h4",{children:"No Employees"})]})]},n)})):Object(j.jsx)("h2",{children:"Employees List is empty"})})},J=n(34),M=n(33),V=function(){return Object(m.b)()},U=n(14),K=n.n(U),Q=i.a.memo((function(e){var t=e.id,n=e.firstName,a=e.lastName,c=e.active,i=void 0!==c&&c,o=Object(r.useState)(i),s=Object(L.a)(o,2),l=s[0],d=s[1],u=V(),p=function(){u(l?R(t):D(t)),d(!l)};return Object(j.jsxs)("div",{className:K.a.employeeContainer,children:[Object(j.jsx)("span",{className:Object(M.a)(K.a.fullname,l&&K.a.active),children:"".concat(n," ").concat(a)}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"radio",checked:!1===l,onChange:p,name:"notActive"}),Object(j.jsx)("label",{htmlFor:"notActive",children:"Not active"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"radio",checked:!0===l,onChange:p,name:"active"}),Object(j.jsx)("label",{htmlFor:"active",children:"Active"})]})]})]})})),W=n(19),Z=n.n(W),H="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),X=function(){var e=h(S),t=h(A);return Object(j.jsx)(p,{title:"Employees",children:Object(j.jsx)("div",{className:Z.a.alphabet,children:H.map((function(n,a){var c=!0;return Object(j.jsxs)("div",{className:Z.a.letterContainer,children:[Object(j.jsx)("h2",{children:n}),e.filter((function(e){return n===e.firstName[0]})).map((function(e){return c=!1,Object(j.jsx)(Q,Object(J.a)({active:t.includes(e.id)},e),e.id)})),c&&Object(j.jsx)("h4",{children:"No Employees"})]},a)}))})})},Y=n(20),q=n.n(Y),z=function(){var e=V();Object(r.useEffect)((function(){e(g())}),[e]);var t=Object(m.c)(w);return Object(j.jsx)(j.Fragment,{children:t===c.LOADED?Object(j.jsxs)("div",{className:q.a.container,children:[Object(j.jsx)(X,{}),Object(j.jsx)(G,{})]}):Object(j.jsx)("div",{className:q.a.preloaderContainer,children:t===c.ERROR?Object(j.jsx)("h1",{children:"Oops! Something went wrong."}):Object(j.jsx)("img",{src:l,alt:"preloader icon"})})})},$=n(2);var ee=function(){return Object(j.jsxs)($.d,{children:[Object(j.jsx)($.b,{path:"/employees",element:Object(j.jsx)(z,{})}),Object(j.jsx)($.b,{path:"*",element:Object(j.jsx)($.a,{to:"/employees"})})]})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},ne=Object(E.a)({reducer:{employees:I}});ne.subscribe((function(){!function(e){try{var t=JSON.stringify(e);window.localStorage.setItem("activeEmployees",t)}catch(n){console.log("Redux was not able to persist the state into the localstorage")}}(ne.getState().employees.activeIds)}));var ae=n(16);s.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(m.a,{store:ne,children:Object(j.jsx)(ae.a,{children:Object(j.jsx)(ee,{})})})}),document.getElementById("root")),te()}},[[66,1,2]]]);
//# sourceMappingURL=main.3ab1d8d9.chunk.js.map